[ 2015-05-06T00:00:17+08:00 ] ::1 /index.php/Admin/Comment/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000028s ]
INFO: [ app_init ] --END-- [ RunTime:0.000696s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000639s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000749s ]
SQL: SHOW COLUMNS FROM `bjy_comment` [ RunTime:0.0050s ]
SQL: SELECT COUNT(*) AS tp_count FROM `bjy_comment` LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined variable: Page E:\tongbu\wamp\www\Application\Common\Model\CommentModel.class.php 第 23 行.
NOTIC: [8] Trying to get property of non-object E:\tongbu\wamp\www\Application\Common\Model\CommentModel.class.php 第 23 行.
NOTIC: [8] Undefined variable: Page E:\tongbu\wamp\www\Application\Common\Model\CommentModel.class.php 第 23 行.
NOTIC: [8] Trying to get property of non-object E:\tongbu\wamp\www\Application\Common\Model\CommentModel.class.php 第 23 行.
SQL: SELECT * FROM `bjy_comment` ORDER BY cmtid desc  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000091s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000280s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010717s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010840s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000430s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000524s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000704s ]
INFO: [ app_end ] --END-- [ RunTime:0.000840s ]

[ 2015-05-06T00:00:42+08:00 ] ::1 /index.php/Admin/Comment/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000039s ]
INFO: [ app_init ] --END-- [ RunTime:0.000703s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000761s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000934s ]
SQL: SHOW COLUMNS FROM `bjy_comment` [ RunTime:0.0050s ]
NOTIC: [8] Use of undefined constant ture - assumed 'ture' E:\tongbu\wamp\www\Application\Common\Common\function.php 第 8 行.

[ 2015-05-06T00:01:30+08:00 ] ::1 /index.php/Admin/Comment/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000671s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000994s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001154s ]
SQL: SHOW COLUMNS FROM `bjy_comment` [ RunTime:0.0040s ]
NOTIC: [8] Use of undefined constant ture - assumed 'ture' E:\tongbu\wamp\www\Application\Common\Common\function.php 第 8 行.

[ 2015-05-06T00:01:31+08:00 ] ::1 /index.php/Admin/Comment/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000028s ]
INFO: [ app_init ] --END-- [ RunTime:0.000509s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000819s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001004s ]
SQL: SHOW COLUMNS FROM `bjy_comment` [ RunTime:0.0039s ]
NOTIC: [8] Use of undefined constant ture - assumed 'ture' E:\tongbu\wamp\www\Application\Common\Common\function.php 第 8 行.

[ 2015-05-06T00:01:32+08:00 ] ::1 /index.php/Admin/Comment/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000039s ]
INFO: [ app_init ] --END-- [ RunTime:0.000697s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000666s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000801s ]
SQL: SHOW COLUMNS FROM `bjy_comment` [ RunTime:0.0041s ]
NOTIC: [8] Use of undefined constant ture - assumed 'ture' E:\tongbu\wamp\www\Application\Common\Common\function.php 第 8 行.

[ 2015-05-06T00:09:25+08:00 ] ::1 /index.php/Admin/Comment/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000028s ]
INFO: [ app_init ] --END-- [ RunTime:0.000773s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000687s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000806s ]
SQL: SHOW COLUMNS FROM `bjy_comment` [ RunTime:0.0704s ]
NOTIC: [8] Use of undefined constant ture - assumed 'ture' E:\tongbu\wamp\www\Application\Common\Common\function.php 第 8 行.

[ 2015-05-06T23:43:05+08:00 ] ::1 /index.php/admin
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000024s ]
INFO: [ app_init ] --END-- [ RunTime:0.000488s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001123s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001441s ]

[ 2015-05-06T23:43:05+08:00 ] ::1 /index.php/Admin/Login/login
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000513s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000650s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000777s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000090s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000201s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017311s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017446s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000426s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000524s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000701s ]
INFO: [ app_end ] --END-- [ RunTime:0.000803s ]

[ 2015-05-06T23:43:05+08:00 ] ::1 /index.php/Admin/Login/showVerify
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000026s ]
INFO: [ app_init ] --END-- [ RunTime:0.000494s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000678s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000803s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001299s ]
INFO: [ app_end ] --END-- [ RunTime:0.001605s ]

[ 2015-05-06T23:43:11+08:00 ] ::1 /index.php/Admin/Login/login
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000028s ]
INFO: [ app_init ] --END-- [ RunTime:0.000574s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001295s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001513s ]
SQL: SHOW COLUMNS FROM `bjy_config` [ RunTime:0.0908s ]
SQL: SELECT `value` FROM `bjy_config` WHERE `name` = 'ADMIN_PASSWORD' LIMIT 1   [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000084s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000218s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.025576s ]
INFO: [ view_parse ] --END-- [ RunTime:0.025757s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000428s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000522s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000651s ]
INFO: [ app_end ] --END-- [ RunTime:0.000747s ]

[ 2015-05-06T23:43:12+08:00 ] ::1 /index.php/Admin/Index/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000108s ]
INFO: [ app_init ] --END-- [ RunTime:0.001877s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000901s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001376s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000111s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000229s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013286s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013491s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000562s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000704s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000757s ]
INFO: [ app_end ] --END-- [ RunTime:0.000881s ]

[ 2015-05-06T23:43:12+08:00 ] ::1 /index.php/Admin/Index/welcome
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000024s ]
INFO: [ app_init ] --END-- [ RunTime:0.000474s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000865s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000978s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000069s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000225s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008308s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008436s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000404s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000500s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000768s ]
INFO: [ app_end ] --END-- [ RunTime:0.000868s ]

[ 2015-05-06T23:43:16+08:00 ] ::1 /index.php/Admin/Article/index
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000466s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000615s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000736s ]
SQL: SHOW COLUMNS FROM `bjy_article` [ RunTime:0.0051s ]
NOTIC: [8] Undefined variable: page E:\tongbu\wamp\www\Application\Common\Model\ArticleModel.class.php 第 123 行.
NOTIC: [8] Trying to get property of non-object E:\tongbu\wamp\www\Application\Common\Model\ArticleModel.class.php 第 123 行.
NOTIC: [8] Undefined variable: page E:\tongbu\wamp\www\Application\Common\Model\ArticleModel.class.php 第 123 行.
NOTIC: [8] Trying to get property of non-object E:\tongbu\wamp\www\Application\Common\Model\ArticleModel.class.php 第 123 行.
SQL: SELECT * FROM `bjy_article` WHERE `is_delete` = 0 ORDER BY addtime desc  [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0032s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0032s ]
SQL: SELECT * FROM `bjy_article_tag` INNER JOIN bjy_tag ON bjy_article_tag.tid=bjy_tag.tid  WHERE ( aid=9 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `bjy_article_pic` [ RunTime:0.0032s ]
SQL: SELECT `path` FROM `bjy_article_pic` WHERE ( aid=9 ) ORDER BY ap_id asc LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `bjy_category` [ RunTime:0.0030s ]
SQL: SELECT `cid`,`cid`,`cname` FROM `bjy_category` WHERE ( cid=26 )  [ RunTime:0.0003s ]
SQL: SELECT * FROM `bjy_article_tag` INNER JOIN bjy_tag ON bjy_article_tag.tid=bjy_tag.tid  WHERE ( aid=8 )  [ RunTime:0.0002s ]
SQL: SELECT `path` FROM `bjy_article_pic` WHERE ( aid=8 ) ORDER BY ap_id asc LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `cid`,`cid`,`cname` FROM `bjy_category` WHERE ( cid=26 )  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000091s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000215s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.026684s ]
INFO: [ view_parse ] --END-- [ RunTime:0.026838s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000608s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000977s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000789s ]
INFO: [ app_end ] --END-- [ RunTime:0.000890s ]

[ 2015-05-06T23:43:19+08:00 ] ::1 /index.php/Admin/Article/edit/aid/9
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000027s ]
INFO: [ app_init ] --END-- [ RunTime:0.000662s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000738s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000905s ]
SQL: SHOW COLUMNS FROM `bjy_article` [ RunTime:0.0039s ]
SQL: SELECT * FROM `bjy_article` WHERE ( aid=9 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0030s ]
SQL: SELECT `tid` FROM `bjy_article_tag` WHERE ( aid=9 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0029s ]
SQL: SELECT * FROM `bjy_article_tag` INNER JOIN bjy_tag ON bjy_article_tag.tid=bjy_tag.tid  WHERE ( aid=9 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `bjy_category` [ RunTime:0.0032s ]
SQL: SELECT `cid`,`cid`,`cname`,`keywords` FROM `bjy_category` WHERE ( cid=26 )  [ RunTime:0.0003s ]
SQL: SELECT * FROM `bjy_category` ORDER BY sort  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `bjy_tag` [ RunTime:0.0041s ]
SQL: SELECT * FROM `bjy_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000099s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000251s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.098575s ]
INFO: [ view_parse ] --END-- [ RunTime:0.098805s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000583s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000725s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000758s ]
INFO: [ app_end ] --END-- [ RunTime:0.000867s ]

[ 2015-05-06T23:43:25+08:00 ] ::1 /index.php/Admin/Article/edit/aid/9
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000028s ]
INFO: [ app_init ] --END-- [ RunTime:0.000584s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001012s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001235s ]
SQL: SHOW COLUMNS FROM `bjy_article` [ RunTime:0.0046s ]
SQL: UPDATE `bjy_article` SET `aid`='9',`cid`='26',`title`='测试html',`author`='白俊遥',`description`='alert(1);',`is_top`='1',`is_show`='1',`content`='&lt;p&gt;	&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;经常扒别人网站文章的坑们；我是指那种批量式采集的压根不看内容的，少不了都会用到删除html标签的函数；这里介绍3种不同用途上的方法；&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false&quot;&gt;$str=&amp;#39;&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;这里是p标签&amp;lt;/p&amp;gt;&amp;lt;img&amp;nbsp;src=&amp;quot;&amp;quot;&amp;nbsp;alt=&amp;quot;这里是img标签&amp;quot;&amp;gt;&amp;lt;a&amp;nbsp;href=&amp;quot;&amp;quot;&amp;gt;这里是a标签&amp;lt;/a&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;#39;;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;1：删除全部或者保留指定html标签&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;php自带的函数strip_tags即可满足要求，&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用方法：strip_tags(string,allow)；&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;string：需要处理的字符串；&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;allow：需要保留的指定标签，可以写多个；&lt;br/&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;?php
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;strip_tags($str,&amp;#39;&amp;lt;p&amp;gt;&amp;lt;a&amp;gt;&amp;#39;);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;?&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;//输出：&amp;lt;p&amp;gt;这里是p标签&amp;lt;/p&amp;gt;&amp;lt;a&amp;nbsp;href=&amp;quot;&amp;quot;&amp;gt;这里是a标签&amp;lt;/a&amp;gt;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;次函数的优点是简单粗暴，但是缺点也很明显；如果有一大堆标签；而我只是想删除指定的某一个；那要写很多需要保留的标签；&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所以有了第二个方法；&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;2：删除指定的html标签&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用方法：strip_html_tags($tags,$str)；&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $tags：需要删除的标签&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;(数组格式)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $str：需要处理的字符串；&lt;br/&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;lt;?php
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;strip_html_tags($tags,$str){&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html=array();
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach&amp;nbsp;($tags&amp;nbsp;as&amp;nbsp;$tag)&amp;nbsp;{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html[]=&amp;quot;/(&amp;lt;(?:\\/&amp;quot;.$tag.&amp;quot;|&amp;quot;.$tag.&amp;quot;)[^&amp;gt;]*&amp;gt;)/i&amp;quot;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data=preg_replace($html,&amp;nbsp;&amp;#39;&amp;#39;,&amp;nbsp;$str);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;strip_html_tags(array(&amp;#39;p&amp;#39;,&amp;#39;img&amp;#39;),$str);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;?&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;//输出&amp;lt;div&amp;gt;这里是p标签&amp;lt;a&amp;nbsp;href=&amp;quot;&amp;quot;&amp;gt;这里是a标签&amp;lt;/a&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;3：删除标签和标签的内容&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用方法：strip_html_tags($tags,$str)；&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $tags：需要删除的标签&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;(数组格式)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $str：需要处理的字符串；&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;lt;?php
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;strip_html_tags($tags,$str){&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html=array();
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach&amp;nbsp;($tags&amp;nbsp;as&amp;nbsp;$tag)&amp;nbsp;{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html[]=&amp;#39;/(&amp;lt;&amp;#39;.$tag.&amp;#39;.*?&amp;gt;[\\s|\\S]*?&amp;lt;\\/&amp;#39;.$tag.&amp;#39;&amp;gt;)/&amp;#39;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data=preg_replace($html,&amp;#39;&amp;#39;,$str);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;strip_html_tags(array(&amp;#39;a&amp;#39;,&amp;#39;img&amp;#39;),$str);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;?&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;//输出&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;这里是p标签&amp;lt;/p&amp;gt;&amp;lt;img&amp;nbsp;src=&amp;quot;&amp;quot;&amp;nbsp;alt=&amp;quot;这里是img标签&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;;&lt;/pre&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;很多网站文章里面会带上网站名和链接，比如&amp;lt;a href=&amp;quot;http://www.baijunyao.com&amp;quot;&amp;gt;白俊遥博客&amp;lt;/a&amp;gt;；这个函数就是专治这种； 别拿这个函数采集本站啊；不然保证不打死你；&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;4：终极函数，删除指定标签；删除或者保留标签内的内容；&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用方法：strip_html_tags($tags,$str,$content)；&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $tags：需要删除的标签&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;(数组格式)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $str：需要处理的字符串；&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $ontent：是否删除标签内的内容 0保留内容 1不保留内容&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;lt;?php
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;删除指定的标签和内容
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;array&amp;nbsp;$tags&amp;nbsp;需要删除的标签数组
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;string&amp;nbsp;$str&amp;nbsp;数据源
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;string&amp;nbsp;$content&amp;nbsp;是否删除标签内的内容&amp;nbsp;默认为0保留内容&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1不保留内容
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;string
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;strip_html_tags($tags,$str,$content=0){
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($content){
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html=array();
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach&amp;nbsp;($tags&amp;nbsp;as&amp;nbsp;$tag)&amp;nbsp;{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html[]=&amp;#39;/(&amp;lt;&amp;#39;.$tag.&amp;#39;.*?&amp;gt;[\\s|\\S]*?&amp;lt;\\/&amp;#39;.$tag.&amp;#39;&amp;gt;)/&amp;#39;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data=preg_replace($html,&amp;#39;&amp;#39;,$str);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html=array();
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach&amp;nbsp;($tags&amp;nbsp;as&amp;nbsp;$tag)&amp;nbsp;{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$html[]=&amp;quot;/(&amp;lt;(?:\\/&amp;quot;.$tag.&amp;quot;|&amp;quot;.$tag.&amp;quot;)[^&amp;gt;]*&amp;gt;)/i&amp;quot;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data=preg_replace($html,&amp;nbsp;&amp;#39;&amp;#39;,&amp;nbsp;$str);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$data;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;strip_html_tags(array(&amp;#39;a&amp;#39;),$str,1);
&amp;nbsp;&amp;nbsp;&amp;nbsp;?&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;//输出&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;这里是p标签&amp;lt;/p&amp;gt;&amp;lt;img&amp;nbsp;src=&amp;quot;&amp;quot;&amp;nbsp;alt=&amp;quot;这里是img标签&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;;&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;前面扯了那么多；其实最后这个函数才是干货；一口气搞定各种标签删除的疑难杂症不费劲；&lt;/p&gt;&lt;p&gt;别看下面这张截图了；无非带点颜色好看，我主要是拿来凑图当文章封面的；&lt;/p&gt;&lt;p&gt;&lt;img alt=&quot;QQ截图20150425005608.jpg&quot; src=&quot;/Upload/image/ueditor/20150503/1430657959488453.jpg&quot; title=&quot;1429894616587492.jpg&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;' WHERE `aid` = 9 [ RunTime:0.1933s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0034s ]
SQL: DELETE FROM `bjy_article_tag` WHERE ( aid=9 ) [ RunTime:0.0499s ]
SQL: INSERT INTO `bjy_article_tag` (`aid`,`tid`) VALUES ('9','18') [ RunTime:0.0546s ]
SQL: INSERT INTO `bjy_article_tag` (`aid`,`tid`) VALUES ('9','19') [ RunTime:0.0548s ]
SQL: SHOW COLUMNS FROM `bjy_article_pic` [ RunTime:0.0085s ]
SQL: DELETE FROM `bjy_article_pic` WHERE ( aid=9 ) [ RunTime:0.0540s ]
SQL: INSERT INTO `bjy_article_pic` (`aid`,`path`) VALUES ('9','/Upload/image/ueditor/20150503/1430657959488453.jpg') [ RunTime:0.1068s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000079s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000182s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.006772s ]
INFO: [ view_parse ] --END-- [ RunTime:0.006878s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000344s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000433s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000554s ]
INFO: [ app_end ] --END-- [ RunTime:0.000645s ]

[ 2015-05-06T23:43:26+08:00 ] ::1 /index.php/Admin/Article/edit/aid/9
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000052s ]
INFO: [ app_init ] --END-- [ RunTime:0.000952s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000746s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000857s ]
SQL: SHOW COLUMNS FROM `bjy_article` [ RunTime:0.0039s ]
SQL: SELECT * FROM `bjy_article` WHERE ( aid=9 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0031s ]
SQL: SELECT `tid` FROM `bjy_article_tag` WHERE ( aid=9 )  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `bjy_article_tag` [ RunTime:0.0036s ]
SQL: SELECT * FROM `bjy_article_tag` INNER JOIN bjy_tag ON bjy_article_tag.tid=bjy_tag.tid  WHERE ( aid=9 )  [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `bjy_category` [ RunTime:0.0052s ]
SQL: SELECT `cid`,`cid`,`cname`,`keywords` FROM `bjy_category` WHERE ( cid=26 )  [ RunTime:0.0004s ]
SQL: SELECT * FROM `bjy_category` ORDER BY sort  [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `bjy_tag` [ RunTime:0.0044s ]
SQL: SELECT * FROM `bjy_tag`  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000168s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000360s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014301s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014470s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000318s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000409s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000773s ]
INFO: [ app_end ] --END-- [ RunTime:0.000901s ]

